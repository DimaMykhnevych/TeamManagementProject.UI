<div class="main">
  <div class="container">
    <div class="row mb-4">
      <div class="col-lg-12 mb-2">
        <h2 class="text-center">Here you can register employees</h2>
      </div>
      <div class="col-lg-12">
        <div class="line"></div>
        <p class="description text-center m-4">
          Register Employees very fast and convenient! Fill the form below and
          add the new employee
        </p>
        <div class="line"></div>
      </div>
    </div>
    <div class="form-wrapper">
      <form
        [formGroup]="form"
        #formDirective="ngForm"
        (submit)="onSubmit(formDirective)"
      >
        <div class="row d-flex justify-content-center">
          <div class="col-lg-5">
            <i class="fas fa-address-book p-3"></i>
            <mat-form-field appearance="fill" [style.width.px]="327">
              <mat-label>First Name</mat-label>
              <input formControlName="firstName" matInput required />
              <mat-error *ngIf="firstName?.touched && firstName?.invalid">
                <div *ngIf="firstName?.errors?.required">
                  This field is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-5">
            <i class="fas fa-address-book p-3"></i>
            <mat-form-field appearance="fill" [style.width.px]="327">
              <mat-label>Last Name</mat-label>
              <input formControlName="lastName" matInput required />
              <mat-error *ngIf="lastName?.touched && lastName?.invalid">
                <div *ngIf="lastName?.errors?.required">
                  This field is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row d-flex justify-content-center">
          <div class="col-lg-5">
            <i class="fas fa-envelope-open p-3"></i>
            <mat-form-field appearance="fill" [style.width.px]="327">
              <mat-label>Email</mat-label>
              <input formControlName="email" matInput required />
              <mat-error *ngIf="email?.touched && email?.invalid">
                <div *ngIf="email?.errors?.required">
                  This field is required
                </div>
                <div *ngIf="email?.errors?.email">Email is typed incorrect</div>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-5">
            <i class="fas fa-key p-3"></i>
            <mat-form-field appearance="fill" [style.width.px]="327">
              <mat-label>Password</mat-label>
              <input
                type="password"
                formControlName="password"
                matInput
                required
              />
              <mat-error *ngIf="password?.touched && password?.invalid">
                <div *ngIf="password?.errors?.required">
                  This field is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row d-flex justify-content-center">
          <div class="col-lg-5">
            <i class="fas fa-user-alt p-3"></i>
            <mat-form-field appearance="fill" [style.width.px]="327">
              <mat-label>Position</mat-label>
              <mat-select formControlName="position">
                <mat-option value="TeamLead" selected>Team Lead</mat-option>
                <mat-option value="ProjectManager">Project Manager</mat-option>
                <mat-option value="Employee">Employee</mat-option>
              </mat-select>
              <mat-error *ngIf="position?.touched && position?.invalid">
                <div *ngIf="position?.errors?.required">
                  This field is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-5">
            <i class="fas fa-calendar-minus p-3"></i>
            <mat-form-field appearance="fill" [style.width.px]="327">
              <mat-label>Date of birth</mat-label>
              <input
                formControlName="dateOfBirth"
                matInput
                type="datetime"
                [matDatepicker]="startDatePicker"
                required
              />
              <mat-error *ngIf="dateOfBirth?.touched && dateOfBirth?.invalid">
                <div *ngIf="dateOfBirth?.errors?.required">
                  This field is required
                </div>
              </mat-error>
              <mat-datepicker-toggle
                matSuffix
                [for]="startDatePicker"
              ></mat-datepicker-toggle>
              <mat-datepicker #startDatePicker></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div class="row m-4">
          <div class="col-lg-12 d-flex justify-content-center">
            <button
              type="submit"
              mat-raised-button
              color="primary"
              [disabled]="form.invalid || isEmployeeAdding"
            >
              <div
                class="d-flex justify-content-center"
                *ngIf="isEmployeeAdding"
              >
                <mat-spinner [diameter]="30"></mat-spinner>
              </div>
              <div *ngIf="!isEmployeeAdding">Add Employee</div>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
